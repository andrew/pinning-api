<!DOCTYPE html>
<html>
  <head>
    <title>Pins on Rails</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body class='d-flex flex-column h-100'>
    <header>
      <nav class="navbar navbar-dark bg-dark navbar-fixed-top navbar-expand-md">
        <a class="navbar-brand" href="/">
          <%= octicon 'pin', class: 'logo mr-2', height: 20 %>
          Pins on Rails
        </a>
        <%= link_to 'Add pin', new_pin_path, class: 'btn btn-primary pull-right' %>

        <div class="user-info collapse navbar-collapse justify-content-end" id="navbarNav">
          <ul class="navbar-nav">

            <% if logged_in? %>
              <li class="nav-item nav-link d-none d-md-block">
                <%= link_to 'Account', account_path, class: 'btn btn-success' %>
              </li>
              <li class="nav-item nav-link d-none d-md-block">
                <%= link_to 'Logout', logout_path, class: 'btn btn-info' %>
              </li>
            <% else %>
            <li class="nav-item nav-link d-none d-md-block">
              <%= link_to 'Login', login_path, class: 'btn btn-success' %>
            </li>
            <li class="nav-item nav-link d-none d-md-block">
              <%= link_to 'Signup', new_user_path, class: 'btn btn-info' %>
            </li>
            <% end %>
          </ul>
        </div>
      </nav>
    </header>

    <main role="main" class="flex-shrink-0">
      <div class="container">
        <% flash.each do |key, value| %>
          <div class="<%= flash_class(key) %>">
            <%= value %>
          </div>
        <% end %>

        <%= yield %>
      </div>
    </main>

    <footer class='footer'>

      <div class="container">
        <span class="text-muted">
          <%= octicon 'mark-github', height: 20 %>
          <%= link_to 'Feature requests and bug reports welcome', 'https://github.com/ipfs-shipyard/rb-pinning-service-api', target: :_blank %>
        </span>
      </div>
    </footer>
  </body>
</html>
